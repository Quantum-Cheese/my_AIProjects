 2018-12-18 小飞机调试笔记
 
 #### 问题：
* 起飞后，并不能加上扭矩
* 总是朝一个方向飞，直到撞墙
* 无法减速
* 奖励函数始终无法提升
* 有时会出现起飞困难，z方向的推力经常为负值

#### 奖励函数设定 
````
位置目标：x=0.0;y=0.0;z=10.0

reward=-(abs(x,y坐标与目标之间的差))*5
if 水平位置偏离过大：
	reward -10
	
time < 5s:
	reward - abs(z坐标与目标之间的差)*20
	不施加扭矩，只有线性推力
	
5s < time < 15s:
	if 此时还未达到目标高度：
		reward - 50
		done=True
	if abs(z与目标高度的差) < 1:
		reward + 50
	else: 
		reward -30
	加上扭矩，最大为5
	
time > 15s:
	done=True
	阶段结束

````

#### Actor 模型
* 优化器改用Adadeleta
   * lr=1.0, rho=0.95, epsilon=None, decay=0.01
效果：貌似有所改进，小飞机学会了改变飞行方向，起飞时出现短暂的徘徊；但起飞后还是无法调整姿态，经常撞墙  
  
  
* 尝试改变MLP网络结构（原结构： hidden:32-64-32）
   * 发现如果增加层数，或者改变节点数量，都会导致性能下降，经常无法起飞，似乎学习效率变低，策略更新很慢，连续几轮的姿态都维持不变，z轴线性推力一直是负的，很难纠正过来
   * 减少一层，似乎有所改进，可以调整方向，但z线性推力不能稳定，经常正负剧变，导致起飞困难（貌似是学习速率慢了，但把decay改为0，能正常起飞，但又会撞墙，跟原始设定区别不大）

#### 后期计划
* 尝试给Actor加上正则化
* 调整Critic模型
* 奖励函数是否还可以改进？
